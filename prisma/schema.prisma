// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model rep_details{
  id                Int           @id @default(autoincrement())
  unique_id         String?
  rep_name          String?
  gender            String?
  date_of_birth     String?
  Nationality       String?
  mobile            String?
  email             String?
  designation       String?
  qualification     String?
  address           String?
  reporting_officer Int?
  created_by        Int? //reporting officer
  created_date      DateTime?
  type              String?
  password          String?
  // rep_doc_id        doctor_details[]  
  // rep_leave_id      leave_table[]
  // rep_expense_report expense_report[]
  rep_chemist_id     add_chemist[]
}
 model doctor_details{
  id                 Int            @id @default(autoincrement())
  doc_name           String?
  doc_qualification  String?
  gender             String?
  specialization     String?
  mobile             String?
  no_of_visits       Int?
  date_of_birth      String?
  wedding_date       String?
  // address            Json? 
  products           Json?
  chemist            Json?
  created_UId        String?
  // rep_id             rep_details @relation(fields: [created_by],references: [id])
  created_date       DateTime
  address_id         doctor_address[]
}
model doctor_address{
  id                  Int            @id @default(autoincrement())
  doc_id              Int
  doc_address_id      doctor_details @relation(fields: [doc_id],references: [id])
  address             String?
  latitude            String?
  longitude           String?
  created_date        DateTime?
}
model leave_table{
  id                Int               @id @default(autoincrement())
  requester_id      Int?
  // repId             rep_details @relation(fields: [requester_id],references: [id])
  uniqueRequester_Id  String?
  remark            String?
  from_date         String?
  to_date           String?
  status            String?
  type              String?
  created_date      DateTime?
  approved_by       Int?
  manager_uniqueId  Int?
  approved_date     DateTime?
}
model expense_report{
  id                 Int            @id @default(autoincrement())
  requester_id       Int?
  // repID              rep_details @relation(fields: [requester_id],references: [id])  
  uniqueReqesterId   String?
  amount             String?
  remark             String?
  attachment         String?
  trip_date          String?
  doct_id            Int?
  approved_by        Int?
  approved_date      DateTime?
  status             String?
  created_date       DateTime?
}
model add_chemist{
  id                 Int             @id @default(autoincrement())
  rep_id             Int //need to add the relation with the manager table
  repId              rep_details @relation(fields: [rep_id],references: [id])
  unique_RepId       Int?
  building_name      String?
  mobile             String?
  email              String?
  licence_number     String?
  address            Json?
  date_of_birth      String?
  anniversary_date   String?
  date_time          DateTime
}
model add_product{
  id                 Int              @id @default(autoincrement())
  manager_id         Int?
  product_name       Json?
}
model reporting_details{
  id                  Int             @id @default(autoincrement())
  reporting_type      String?
  date                String?
  time                String?
  products            Json?
  remarks             String?
  rep_id              Int?
  unique_reqId        Int?
  doctor_id           Int?
  datetime            DateTime
}
model manager_details{
  id                  Int             @id @default(autoincrement())
  name                String?
  dob                 String?
  gender              String?
  mobile              String?
  qualification       String?
  designation         String?
  nationality         String?
  email               String?
  address             Json?
  city                String?
  pincode             Int?
  type                String?
  created_date        DateTime?
  unique_manager_code String?
  password            String?
}






